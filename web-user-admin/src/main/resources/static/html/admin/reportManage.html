<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>举报管理</title>
		<style type="text/css">
			.inputText{
				width: 40%;
			}
		</style>
	</head>
	<body class="layui-layout-body animated slideInLeft" >
		<div class="layui-card">
			<div class="layui-card-header">举报管理</div>
	        <div class="layui-card-body">
	        	<div class="layui-row">
	        		<div class="layui-col-xs10 layui-col-sm8 layui-col-md8">
	        			<form class="layui-form">
			          	  	<label class="layui-form-label">关键词搜索</label>
							<div class="layui-input-block">
								<input type="text" name="" placeholder="请输入搜索词" class="layui-input inputText"/>
							</div>
			          	</form>
	        		</div>
	        		<div class="layui-col-xs2 layui-col-sm4	layui-col-md4">
						<button class="layui-btn" style="float:right;"id="add">查询</button>
	        		</div>
	        	</div>
	          <table class="userTable" id="userInfo" lay-filter="test"></table>
	          <script type="text/html" id="barDemo">
						<a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="detail">详情</a>
						<a class="layui-btn layui-btn-danger layui-btn-sm" lay-event="delete">删除</a>
			  </script>
	        </div>
		</div>
	</body>
	<script>
		//JavaScript代码区域
		layui.use(['table','form'], function(){
		  var table = layui.table;
//		  var form = layui.form;
		  
		  table.render({
		  	elem:'#userInfo',
		  	url:'/admin/pageInfo',
		  	page:true,
		  	contentType: 'application/json',
			method: 'post',
		  	cols:[[
		  		 {field:'id',title:'ID',width:120,sort:true,align:'center'}
		          ,{field:'infoType',title:'类型',width:120,align:'center'}
			      ,{field:'infoTitle',title:'标题',align:'center'}
			      ,{field:'createDate',title:'发布时间',width:120,align:'center'}
			      ,{title:'操作',width:200,toolbar:"#barDemo",align:'center'}
		  	]],
		 	parseData: function(res){ //res 即为原始返回的数据
		      	console.log("res", res);
		      	if(res.code != 0){
		        	  layer.open({
		          		title: '数据请求失败，请重试'
		          		,content: res.msg
		          	});
		          }else{
		          	return {
		                  "code": res.code, //解析接口状态
		                  "msg": res.msg, //解析提示文本
		                  "count": res.result.totalElements, //解析数据长度
		                  "data": res.result.content //解析数据列表
		                };
		          }
		      }
		  })
		});
	</script>
</html>
